{% extends "uds/html5/internal_page.html" %}
{% load i18n static html5 %}

{% block css %}
		<style>
			.testing {
				width: 95px;
				height: 95px;
				margin-bottom: 16px;
				margin-left: 16px;
				
				background: rgb(255,255,255); /* Old browsers */
				background: -moz-linear-gradient(top,  rgba(255,255,255,1) 0%, rgba(229,229,229,1) 100%); /* FF3.6+ */
				background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,rgba(255,255,255,1)), color-stop(100%,rgba(229,229,229,1))); /* Chrome,Safari4+ */
				background: -webkit-linear-gradient(top,  rgba(255,255,255,1) 0%,rgba(229,229,229,1) 100%); /* Chrome10+,Safari5.1+ */
				background: -o-linear-gradient(top,  rgba(255,255,255,1) 0%,rgba(229,229,229,1) 100%); /* Opera 11.10+ */
				background: -ms-linear-gradient(top,  rgba(255,255,255,1) 0%,rgba(229,229,229,1) 100%); /* IE10+ */
				background: linear-gradient(to bottom,  rgba(255,255,255,1) 0%,rgba(229,229,229,1) 100%); /* W3C */
				filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#ffffff', endColorstr='#e5e5e5',GradientType=0 ); /* IE6-9 */
				overflow: hidden;
			}		
		</style>
{% endblock %}

{% block js %}
		<script>
		$(function() {
			{% if not java %}
			$("a.nojava").click( function() {
				$('#no-java-dialog').modal({
					  keyboard: false
					})
				return false;
			});
			
			{% endif %}
		});
		</script>
{% endblock %}

{% block body %}
			<h2>{% trans "Services" %}</h2>
			 	<div class="clearfix">
			{% for ser in services %}
				  {% if ser.transports %}
					  {% with trans=ser.transports|first %}
					  {% if forloop.counter0 > 0 %} 
					  {% endif %}
					  <div class="pull-left">
					    <div class="thumbnail testing">
						  <a class="{% if not java and trans.needsJava %} nojava{% endif %}" href="{% url "uds.web.views.service" idService=ser.id idTransport=trans.id %}">
						  	<img src="{% url "uds.web.views.transportIcon" idTrans=trans.id %}" class="" alt="{{ ser.name }}" />
						  	<div class="caption">{{ ser.name }}</div>
						  </a>
					    </div>
					  </div>
					  {% endwith %}
					  <!-- 
					  {% for trans in ser.transports %}
					    <li><a{% if not java and trans.needsJava %} class="nojava"{% endif %} href="{% url "uds.web.views.service" idService=ser.id idTransport=trans.id %}"><img src="{% url "uds.web.views.transportIcon" idTrans=trans.id %}" alt="{{ trans.name }}" />{{ trans.name }}</a></li>  
					  {% endfor %} -->
				  {% endif %}
				{% endfor %}
			</div>
			
{% if not java %}
		<div class="modal fade" id="no-java-dialog">
		  <div class="modal-dialog">
		    <div class="modal-content">
		      <div class="modal-header">
		        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
		        <h4 class="modal-title">{% trans "Java not found" %}</h4>
		      </div>
		      <div class="modal-body">
				<p>{% trans "Java is not available on your browser, and the selected transport needs it." %}</p>
				<p>{% trans "Please, install latest version from" %} <a href="http://www.java.com" target="_blank">{% trans "Java website" %}</a> {% trans "and restart browser" %}</p>
		      </div>
		      <div class="modal-footer">
		        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
		      </div>
		    </div><!-- /.modal-content -->
		  </div><!-- /.modal-dialog -->
		</div><!-- /.modal -->
{% endif %}

{% if user.isStaff %}
  <div id="adminmsgs">
	<div>{% trans "Ip" %}: {{ ip }}</li>
	<div>{% trans "Networks" %}: {{ nets }}</div>
	<div>{% trans "Transports" %}: {{ transports }}</div>
	</div>
    	 	
  </div>
{% endif %}
{% endblock %} 