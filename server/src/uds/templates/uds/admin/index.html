{% load l10n i18n static html5 REST %}{% spaceless %}
{% get_current_language as LANGUAGE_CODE %}
{% get_available_languages as LANGUAGES %}
<!DOCTYPE html>{% endspaceless %}
<html lang='{{LANGUAGE_CODE}}'>
    <head>
        <title>UDS Dashboard</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="robots" content="noindex, nofollow">

        <link href="{% get_static_prefix %}img/favicon.ico" rel="icon" type="image/x-icon">

        <!-- Bootstrap -->
        <link href="{% get_static_prefix %}css/bootstrap.min.css" rel="stylesheet" media="screen">
        <link href="{% get_static_prefix %}css/font-awesome.min.css" rel="stylesheet" media="screen">
        <link href="{% get_static_prefix %}css/bootstrap-formhelpers.min.css" rel="stylesheet" media="screen">
        <link href="{% get_static_prefix %}css/bootstrap-switch.css" rel="stylesheet" media="screen">
        <link href="{% get_static_prefix %}css/bootstrap-select.min.css" rel="stylesheet" media="screen">

        <link href="{% get_static_prefix %}adm/css/jquery.dataTables.css" rel="stylesheet" media="screen">
        <link href="{% get_static_prefix %}adm/css/TableTools.css" rel="stylesheet" media="screen">
        <link href="{% get_static_prefix %}adm/css/dataTables.bootstrap.css" rel="stylesheet" media="screen">
        
        <link href="{% get_static_prefix %}css/tables.css" rel="stylesheet" media="screen">
        <link href="{% get_static_prefix %}adm/css/buttons.css" rel="stylesheet" media="screen">
        <link href="{% get_static_prefix %}adm/css/uds-admin.css" rel="stylesheet" media="screen">
    </head>
    
    <body>
        <!-- Navigation bar -->
        <div id="wrapper">
        
        {% block menu %}{% include 'uds/admin/snippets/navbar.html' %}{% endblock %}
        <!-- End of menu -->
        <!-- Content -->
             <div id="page-wrapper">
                <div id="content">
                </div>
            </div>
         </div>
        <script src="{% url 'uds.web.views.jsCatalog' LANGUAGE_CODE %}"></script>
        
        <script src="{% get_static_prefix %}js/jquery-1.10.2.min.js"></script>
        <script src="{% get_static_prefix %}js/jquery.cookie.js"></script>
        <script src="{% get_static_prefix %}js/bootstrap.min.js"></script>
        <script src="{% get_static_prefix %}js/bootstrap-switch.min.js"></script>
        <script src="{% get_static_prefix %}js/bootstrap-select.min.js"></script>
        <script src="{% get_static_prefix %}adm/js/jquery.validate.min.js"></script>
        <script src="{% get_static_prefix %}adm/js/jquery.blockUI.js"></script>
        <script src="{% get_static_prefix %}adm/js/jquery.dataTables.min.js"></script>

        <script src="{% get_static_prefix %}adm/js/TableTools.min.js"></script>
        
        <!-- template engine -->
        <script src="{% get_static_prefix %}adm/js/handlebars-v1.1.2.js"></script>
        

        <!--  for "save" from javascript -->
        <script src="{% get_static_prefix %}adm/js/Blob.js"></script>
        <script src="{% get_static_prefix %}adm/js/FileSaver.js"></script>
        
<!--         <script src="{% get_static_prefix %}adm/js/ZeroClipboard.js"></script> -->
        
        <script src="{% get_static_prefix %}adm/js/dataTables.bootstrap.js"></script>
        
        <script>
            // Initialize a few settings, needed for api to work
            (function(api, $, undefined){
                api.config = {
                    token: "{% auth_token %}",
                    auth_header: "{% auth_token_header %}",
                    lang: "LANGUAGE_CODE",
                    base_url: "{% url 'REST' '' %}",
                    template_url: "{% url 'uds.admin.views.tmpl' '' %}",
                    img_url: "{% get_static_prefix %}adm/img/",
                };
                
                
            }(window.api = window.api || {}, jQuery));
        </script>

        <!-- First all api related stuff -->        
        <script src="{% get_static_prefix %}adm/js/api.js"></script>

        <!-- utilities attached to api -->
        <script src="{% get_static_prefix %}adm/js/api-tools.js"></script>
        
        <!--  templates related, inserts itself into api -->
        <script src="{% get_static_prefix %}adm/js/api-templates.js"></script>
        
        <!--  export to xls, inserts itself into api -->
        <script src="{% get_static_prefix %}adm/js/api-spreadsheet.js"></script>
        
        <script src="{% get_static_prefix %}adm/js/gui.js"></script>
        <script src="{% get_static_prefix %}adm/js/gui-tools.js"></script>
        <script src="{% get_static_prefix %}adm/js/gui-form.js"></script>
        <script src="{% get_static_prefix %}adm/js/gui-element.js"></script>
        
        <!-- user interface management -->
        <script src="{% get_static_prefix %}adm/js/gui-definition.js"></script>
        <script src="{% get_static_prefix %}adm/js/gui-service-providers.js"></script>
        <script src="{% get_static_prefix %}adm/js/gui-authenticators.js"></script>
        
        <script>
            $(function() {
    			// Initialize gui
            	gui.init();
            	// set default error function
            	api.defaultFail = gui.failRequestModalFnc(gettext('Error on request'));
            });        
        </script>
        {% block js %}{% endblock %}
        {% js_template_path 'uds/admin/tmpl' %}
        <!-- preloading of templates -->
        <!-- page contents -->
        {% js_template 'dashboard' %}
        {% js_template 'authenticators' %}
        <!-- utility pages -->
        {% js_template 'request_failed' %}
        <!-- components -->
        {% js_template 'comp/table' %}
        {% js_template 'comp/modal' %}
        {% js_template 'comp/responsive_table' %}
        {% js_template 'comp/alert' %}
        <!-- fields -->
        {% js_template 'fld/checkbox' %}
        {% js_template 'fld/choice' %}
        {% js_template 'fld/editlist' %}
        {% js_template 'fld/editlist_popup' %}
        {% js_template 'fld/hidden' %}
        {% js_template 'fld/multichoice' %}
        {% js_template 'fld/numeric' %}
        {% js_template 'fld/password' %}
        {% js_template 'fld/text' %}
        {% js_template 'fld/textbox' %}
        
    </body>
</html>